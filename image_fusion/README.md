# AI 图像创意融合

一个强大的 AI 工具，能够智能地将两张图片的元素融合在一起，创造出独特的艺术作品。

## 功能特点

- 🎨 保持第一张图片的主要风格和氛围
- 🔄 智能融入第二张图片的元素
- 💡 支持自然语言描述融合方式
- 🖼️ 生成高质量艺术图像
- 🔁 内置错误重试机制
- 🚀 支持并行处理提升效率

## 技术实现

- 使用 GPT-4 Vision 分析图片内容
- 使用 GPT-4 生成优化的 DALL-E 提示词
- 使用 DALL-E 3 生成最终图像
- 基于 Mo 平台的 API 服务

## 使用方法

1. 准备环境：
   ```bash
   pip install -r requirements.txt
   ```

2. 设置环境变量：
   ```bash
   export OPENAI_KEY='your-api-key'
   ```

3. 调用服务：
   ```python
   from app import handle
   
   result = handle({
       '图片1': '第一张图片路径',
       '图片2': '第二张图片路径',
       '融合描述': '创意融合描述'
   })
   
   print(result['生成图片'])  # 输出生成的图片路径
   ```

## 输入参数

- `图片1`：主要场景图片，决定最终生成图片的整体风格
- `图片2`：元素图片，其特征将被融入主图片中
- `融合描述`：描述如何将两张图片的元素融合在一起

## 输出结果

- `生成图片`：融合后的新图片路径

## 示例

```python
conf = {
    '图片1': '/path/to/pagoda.jpg',
    '图片2': '/path/to/scarf.jpg',
    '融合描述': '雷峰塔戴着围巾'
}
result = handle(conf)
```

## 注意事项

1. 确保输入图片清晰可读
2. 融合描述越具体越好
3. 建议使用高质量的原始图片
4. API 密钥需要有足够的配额

## 依赖项

- openai==1.3.5
- Pillow==10.1.0
- requests==2.31.0